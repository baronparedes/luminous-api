{
	"components": {
		"examples": {},
		"headers": {},
		"parameters": {},
		"requestBodies": {},
		"responses": {},
		"schemas": {
			"ProfileType": {
				"type": "string",
				"enum": [
					"stakeholder",
					"admin",
					"unit owner"
				]
			},
			"RecordStatus": {
				"type": "string",
				"enum": [
					"active",
					"inactive"
				]
			},
			"AuthProfile": {
				"properties": {
					"remarks": {
						"type": "string"
					},
					"scopes": {
						"type": "string"
					},
					"status": {
						"$ref": "#/components/schemas/RecordStatus"
					},
					"type": {
						"$ref": "#/components/schemas/ProfileType"
					},
					"mobileNumber": {
						"type": "string"
					},
					"email": {
						"type": "string"
					},
					"username": {
						"type": "string"
					},
					"name": {
						"type": "string"
					},
					"id": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"status",
					"type",
					"email",
					"username",
					"name",
					"id"
				],
				"type": "object"
			},
			"AuthResult": {
				"properties": {
					"token": {
						"type": "string"
					},
					"profile": {
						"$ref": "#/components/schemas/AuthProfile"
					}
				},
				"required": [
					"token",
					"profile"
				],
				"type": "object"
			},
			"FieldError": {
				"properties": {
					"value": {
						"type": "string",
						"nullable": true
					},
					"field": {
						"type": "string",
						"nullable": true
					},
					"type": {
						"type": "string",
						"nullable": true
					},
					"message": {
						"type": "string"
					}
				},
				"required": [
					"value",
					"field",
					"type",
					"message"
				],
				"type": "object"
			},
			"EntityError": {
				"properties": {
					"name": {
						"type": "string"
					},
					"message": {
						"type": "string"
					},
					"stack": {
						"type": "string"
					},
					"status": {
						"type": "number",
						"format": "double"
					},
					"fieldErrors": {
						"items": {
							"$ref": "#/components/schemas/FieldError"
						},
						"type": "array",
						"default": []
					}
				},
				"required": [
					"name",
					"message",
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"RegisterProfile": {
				"properties": {
					"mobileNumber": {
						"type": "string"
					},
					"email": {
						"type": "string"
					},
					"password": {
						"type": "string"
					},
					"username": {
						"type": "string"
					},
					"name": {
						"type": "string"
					}
				},
				"required": [
					"email",
					"password",
					"username",
					"name"
				],
				"type": "object"
			},
			"ApiError": {
				"properties": {
					"name": {
						"type": "string"
					},
					"message": {
						"type": "string"
					},
					"stack": {
						"type": "string"
					},
					"status": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"name",
					"message",
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"UpdateProfile": {
				"properties": {
					"remarks": {
						"type": "string",
						"nullable": true
					},
					"scopes": {
						"type": "string"
					},
					"status": {
						"$ref": "#/components/schemas/RecordStatus"
					},
					"type": {
						"$ref": "#/components/schemas/ProfileType"
					},
					"mobileNumber": {
						"type": "string"
					},
					"email": {
						"type": "string"
					},
					"name": {
						"type": "string"
					}
				},
				"required": [
					"status",
					"type",
					"email",
					"name"
				],
				"type": "object"
			},
			"PropertyAttr": {
				"properties": {
					"id": {
						"type": "number",
						"format": "double"
					},
					"code": {
						"type": "string"
					},
					"floorArea": {
						"type": "number",
						"format": "double"
					},
					"address": {
						"type": "string"
					},
					"status": {
						"$ref": "#/components/schemas/RecordStatus"
					}
				},
				"required": [
					"code",
					"floorArea",
					"address",
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"ProfileAttr": {
				"properties": {
					"id": {
						"type": "number",
						"format": "double"
					},
					"name": {
						"type": "string"
					},
					"username": {
						"type": "string"
					},
					"password": {
						"type": "string"
					},
					"email": {
						"type": "string"
					},
					"mobileNumber": {
						"type": "string"
					},
					"type": {
						"$ref": "#/components/schemas/ProfileType"
					},
					"status": {
						"$ref": "#/components/schemas/RecordStatus"
					},
					"scopes": {
						"type": "string"
					},
					"remarks": {
						"type": "string"
					}
				},
				"required": [
					"name",
					"username",
					"password",
					"email",
					"type",
					"status"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PropertyAssignmentAttr": {
				"properties": {
					"profileId": {
						"type": "number",
						"format": "double"
					},
					"propertyId": {
						"type": "number",
						"format": "double"
					},
					"profile": {
						"$ref": "#/components/schemas/ProfileAttr"
					},
					"property": {
						"$ref": "#/components/schemas/PropertyAttr"
					}
				},
				"required": [
					"profileId",
					"propertyId"
				],
				"type": "object",
				"additionalProperties": false
			},
			"CommunityAttr": {
				"properties": {
					"description": {
						"type": "string"
					}
				},
				"required": [
					"description"
				],
				"type": "object",
				"additionalProperties": false
			},
			"ChargeType": {
				"type": "string",
				"enum": [
					"unit",
					"percentage",
					"amount"
				]
			},
			"PostingType": {
				"type": "string",
				"enum": [
					"monthly",
					"manual",
					"accrued",
					"interest"
				]
			},
			"ChargeAttr": {
				"properties": {
					"communityId": {
						"type": "number",
						"format": "double"
					},
					"community": {
						"$ref": "#/components/schemas/CommunityAttr"
					},
					"code": {
						"type": "string"
					},
					"rate": {
						"type": "number",
						"format": "double"
					},
					"chargeType": {
						"$ref": "#/components/schemas/ChargeType"
					},
					"postingType": {
						"$ref": "#/components/schemas/PostingType"
					},
					"thresholdInMonths": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"communityId",
					"code",
					"rate",
					"chargeType",
					"postingType"
				],
				"type": "object",
				"additionalProperties": false
			},
			"TransactionType": {
				"type": "string",
				"enum": [
					"charged",
					"collected"
				]
			},
			"TransactionAttr": {
				"properties": {
					"id": {
						"type": "number",
						"format": "double"
					},
					"chargeId": {
						"type": "number",
						"format": "double"
					},
					"charge": {
						"$ref": "#/components/schemas/ChargeAttr"
					},
					"propertyId": {
						"type": "number",
						"format": "double"
					},
					"property": {
						"$ref": "#/components/schemas/PropertyAttr"
					},
					"amount": {
						"type": "number",
						"format": "double"
					},
					"transactionPeriod": {
						"type": "string",
						"format": "date-time"
					},
					"transactionType": {
						"$ref": "#/components/schemas/TransactionType"
					},
					"waivedBy": {
						"type": "number",
						"format": "double"
					},
					"comments": {
						"type": "string"
					}
				},
				"required": [
					"chargeId",
					"propertyId",
					"amount",
					"transactionPeriod",
					"transactionType"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PropertyAccount": {
				"properties": {
					"balance": {
						"type": "number",
						"format": "double"
					},
					"propertyId": {
						"type": "number",
						"format": "double"
					},
					"property": {
						"$ref": "#/components/schemas/PropertyAttr"
					},
					"transactions": {
						"items": {
							"$ref": "#/components/schemas/TransactionAttr"
						},
						"type": "array"
					}
				},
				"required": [
					"balance",
					"propertyId"
				],
				"type": "object",
				"additionalProperties": false
			},
			"Month": {
				"type": "string",
				"enum": [
					"JAN",
					"FEB",
					"MAR",
					"APR",
					"MAY",
					"JUN",
					"JUL",
					"AUG",
					"SEP",
					"OCT",
					"NOV",
					"DEC"
				]
			},
			"SettingAttr": {
				"properties": {
					"key": {
						"type": "string"
					},
					"value": {
						"type": "string"
					}
				},
				"required": [
					"key",
					"value"
				],
				"type": "object",
				"additionalProperties": false
			},
			"PostTransactionBody": {
				"properties": {
					"propertyId": {
						"type": "number",
						"format": "double"
					},
					"month": {
						"$ref": "#/components/schemas/Month"
					},
					"year": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"propertyId",
					"month",
					"year"
				],
				"type": "object"
			},
			"Period": {
				"properties": {
					"month": {
						"$ref": "#/components/schemas/Month"
					},
					"year": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"month",
					"year"
				],
				"type": "object"
			}
		},
		"securitySchemes": {
			"bearer": {
				"type": "apiKey",
				"in": "header",
				"name": "authorization"
			}
		}
	},
	"info": {
		"title": "luminous-api",
		"version": "1.0.0",
		"license": {
			"name": "MIT"
		},
		"contact": {}
	},
	"openapi": "3.0.0",
	"paths": {
		"/api/auth": {
			"post": {
				"operationId": "Auth",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthResult"
								}
							}
						}
					}
				},
				"security": [],
				"parameters": []
			}
		},
		"/api/profile/getAll": {
			"get": {
				"operationId": "GetAllProfiles",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/AuthProfile"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "search",
						"required": false,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/api/profile/register": {
			"post": {
				"operationId": "Register",
				"responses": {
					"201": {
						"description": "created",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthResult"
								}
							}
						}
					},
					"400": {
						"description": "bad request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EntityError"
								}
							}
						}
					}
				},
				"security": [],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/RegisterProfile"
							}
						}
					}
				}
			}
		},
		"/api/profile/me": {
			"get": {
				"operationId": "Me",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthProfile"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": []
			}
		},
		"/api/profile/updateProfileStatus/{id}": {
			"patch": {
				"operationId": "UpdateProfileStatus",
				"responses": {
					"204": {
						"description": "no content"
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"in": "query",
						"name": "status",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/RecordStatus"
						}
					}
				]
			}
		},
		"/api/profile/updateProfile/{id}": {
			"patch": {
				"operationId": "UpdateProfile",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthProfile"
								}
							}
						}
					},
					"400": {
						"description": "bad request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EntityError"
								}
							}
						}
					},
					"404": {
						"description": "not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateProfile"
							}
						}
					}
				}
			}
		},
		"/api/profile/changePassword/{id}": {
			"patch": {
				"operationId": "ChangePassword",
				"responses": {
					"204": {
						"description": "no content"
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"properties": {
									"newPassword": {
										"type": "string"
									},
									"currentPassword": {
										"type": "string"
									}
								},
								"required": [
									"newPassword",
									"currentPassword"
								],
								"type": "object"
							}
						}
					}
				}
			}
		},
		"/api/property/getAll": {
			"get": {
				"operationId": "GetAllProperties",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/PropertyAttr"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "search",
						"required": false,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/api/property/{id}": {
			"get": {
				"operationId": "GetProperty",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PropertyAttr"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				]
			}
		},
		"/api/property/getPropertyAssignments/{propertyId}": {
			"get": {
				"operationId": "GetPropertyAssignments",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/PropertyAssignmentAttr"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "propertyId",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				]
			}
		},
		"/api/property/getAssignedProperties/{profileId}": {
			"get": {
				"operationId": "GetAssignedProperties",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/PropertyAssignmentAttr"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "profileId",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				]
			}
		},
		"/api/property/getPropertyAccountsByProfile/{profileId}": {
			"get": {
				"operationId": "GetPropertyAccountsByProfile",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/PropertyAccount"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "profileId",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				]
			}
		},
		"/api/property/getPropertyAccount/{propertyId}": {
			"get": {
				"operationId": "GetPropertyAccount",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PropertyAccount"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "propertyId",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"in": "query",
						"name": "year",
						"required": false,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"in": "query",
						"name": "month",
						"required": false,
						"schema": {
							"$ref": "#/components/schemas/Month"
						}
					}
				]
			}
		},
		"/api/property/create": {
			"post": {
				"operationId": "CreateProperty",
				"responses": {
					"201": {
						"description": "created",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PropertyAttr"
								}
							}
						}
					},
					"400": {
						"description": "bad request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EntityError"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/PropertyAttr"
							}
						}
					}
				}
			}
		},
		"/api/property/updatePropertyStatus/{id}": {
			"patch": {
				"operationId": "UpdatePropertyStatus",
				"responses": {
					"204": {
						"description": "no content"
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"in": "query",
						"name": "status",
						"required": true,
						"schema": {
							"$ref": "#/components/schemas/RecordStatus"
						}
					}
				]
			}
		},
		"/api/property/updateProperty/{id}": {
			"patch": {
				"operationId": "UpdateProperty",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PropertyAttr"
								}
							}
						}
					},
					"400": {
						"description": "bad request",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EntityError"
								}
							}
						}
					},
					"404": {
						"description": "not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/PropertyAttr"
							}
						}
					}
				}
			}
		},
		"/api/property/updatePropertyAssignments/{id}": {
			"patch": {
				"operationId": "UpdatePropertyAssignments",
				"responses": {
					"204": {
						"description": "no content"
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "id",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"items": {
									"type": "number",
									"format": "double"
								},
								"type": "array"
							}
						}
					}
				}
			}
		},
		"/api/setting/getAll": {
			"get": {
				"operationId": "GetAllSettings",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/SettingAttr"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [],
				"parameters": []
			}
		},
		"/api/setting/getSettingValue": {
			"get": {
				"operationId": "GetSettingValue",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"type": "string"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "query",
						"name": "key",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/api/setting/updateSettingValue": {
			"patch": {
				"operationId": "UpdateSettingValue",
				"responses": {
					"204": {
						"description": "No content"
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/SettingAttr"
							}
						}
					}
				}
			}
		},
		"/api/transaction/postMonthlyCharges": {
			"post": {
				"operationId": "PostMonthlyCharges",
				"responses": {
					"204": {
						"description": "No content"
					},
					"400": {
						"description": "duplicate charges",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ApiError"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/PostTransactionBody"
							}
						}
					}
				}
			}
		},
		"/api/transaction/getAvailablePeriods/{propertyId}": {
			"get": {
				"operationId": "GetAvailablePeriods",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/Period"
									},
									"type": "array"
								}
							}
						}
					}
				},
				"security": [
					{
						"bearer": []
					}
				],
				"parameters": [
					{
						"in": "path",
						"name": "propertyId",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					}
				]
			}
		}
	},
	"servers": [
		{
			"url": "/"
		}
	]
}